(this["webpackJsonppwe-test"]=this["webpackJsonppwe-test"]||[]).push([[0],{121:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),a=n(10),c=n.n(a),u=(n(90),n(59)),s=n(20),i=n.n(s),l=n(76),d=n(41),p=n(19),f=n(163),b=n(164),j=n(153),m=n(75),h=n.n(m),O=n(58),v=n.n(O),x=n(6),_=function(t){var e=t.onSubmit,n=Object(o.useState)(""),r=Object(p.a)(n,2),a=r[0],c=r[1];return Object(x.jsxs)("form",{className:v.a.addTodoForm,onSubmit:function(t){t.preventDefault(),0!==a.trim().length&&(a.trim().length>70?alert("Length text todo max 70!"):(e(a),c("")))},autoComplete:"off",children:[Object(x.jsx)(b.a,{type:"text",name:"text",value:a,onChange:function(t){c(t.target.value)},label:"Enter Todo",variant:"outlined",className:v.a.inputDiv}),Object(x.jsx)(j.a,{type:"submit",variant:"contained",color:"primary",endIcon:Object(x.jsx)(h.a,{children:"add"}),children:"Add todo"})]})},g=n(152),T=n(49),D=n.n(T),w=n(154),y=n(155),C=n(165),k=n(157),S=n(156),I=n(158),N=function(t){var e=t.todo,n=t.onToggleCompleted,o=t.onDeleteTodo,r=e.id,a=e.description,c=e.isDone;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(w.a,{divider:!0,className:D.a.divItem,children:[Object(x.jsx)(y.a,{className:D.a.Label,control:Object(x.jsx)(C.a,{checked:c,onChange:function(){n(r,{isDone:!c})},color:"primary"}),label:Object(x.jsx)(k.a,{children:a})}),Object(x.jsx)(S.a,{"aria-label":"Delete",type:"button",onClick:function(){o(r)},title:"Delete todo",className:D.a.btnDel,children:Object(x.jsx)(I.a,{})})]})})},F=function(t){var e=t.todos,n=t.onDeleteTodo,o=t.onToggleCompleted;return Object(x.jsx)(g.a,{children:null===e||void 0===e?void 0:e.map((function(t){return Object(x.jsx)(N,{todo:t,onDeleteTodo:n,onToggleCompleted:o},t.id)}))})},A=n(159),Q=n(166),B=n(160),L=n(161),W=n(162),E=n(27),J=n.n(E),M=function(t){var e=t.todosItems,n=t.onClickBySort,o=r.a.useState("all"),a=Object(p.a)(o,2),c=a[0],u=a[1],s=e.allTodosQuantity,i=e.completedTodosQuantity,l=e.notCompletedTodosQuantity;return Object(x.jsx)("div",{className:J.a.buttonsWrapper,children:Object(x.jsxs)(Q.a,{value:c,exclusive:!0,onChange:function(t,e){u(e),n(e)},"aria-label":"button group",children:[Object(x.jsxs)(A.a,{value:"all","aria-label":"all todos button",className:"all"===c?"".concat(J.a.checked," ").concat(J.a.selected):void 0,children:[Object(x.jsx)(B.a,{}),"All todos: ",s]}),Object(x.jsxs)(A.a,{value:"completed","aria-label":"completed todos button",className:"completed"===c?"".concat(J.a.checked," ").concat(J.a.selected):void 0,children:[Object(x.jsx)(L.a,{})," Completed: ",i]}),Object(x.jsxs)(A.a,{value:"notCompleted","aria-label":"not completed todos button",className:"notCompleted"===c?"".concat(J.a.checked," ").concat(J.a.selected):void 0,children:[Object(x.jsx)(W.a,{})," Not completed: ",l]})]})})},U=n(37),R=n.n(U);R.a.defaults.baseURL="https://pwe-rest-api.herokuapp.com/api/todos";var Y=function(){return R.a.get("/").then((function(t){return t.data})).catch((function(t){return console.log("error",t)}))},Z=function(t){R.a.delete("/".concat(t)).catch((function(t){return console.log("error",t)}))},q=function(t){return R.a.post("/",t).then((function(t){return t.data})).catch((function(t){return console.log("error",t)}))},z=function(t,e){return R.a.patch("/".concat(t,"/status"),e).then((function(t){return t.data})).catch((function(t){return console.log("error",t)}))},G=function(){var t=Object(o.useState)([]),e=Object(p.a)(t,2),n=e[0],r=e[1],a=Object(o.useState)(!1),c=Object(p.a)(a,2),s=c[0],b=c[1],j=Object(o.useState)([]),m=Object(p.a)(j,2),h=m[0],O=m[1],v=Object(o.useState)("all"),g=Object(p.a)(v,2),T=g[0],D=g[1];Object(o.useEffect)((function(){Y().then((function(t){var e=t.data;r(e.todos),O(e.todos)}))}),[]);var w=function(){var t=Object(d.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={description:e},t.next=3,q(n).then((function(t){var e=t.data;return r((function(t){return[e.newTodo].concat(Object(l.a)(t))}))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(d.a)(i.a.mark((function t(e,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r((function(t){return t.map((function(t){return t.id===e?Object(u.a)(Object(u.a)({},t),{},{isDone:!t.isDone}):t}))}));case 2:return t.next=4,z(e,n);case 4:b(!0);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){if(s){var t=n.filter((function(t){return t.isDone}));console.log("All completed todos",t),b(!1)}}),[y]);var C=function(){var t=Object(d.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r((function(t){return t.filter((function(t){return t.id!==e}))}));case 2:return t.next=4,Z(e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){"all"===T&&O(n),"completed"===T&&O(k),"notCompleted"===T&&O(S)}),[n,T]);var k=n.filter((function(t){return t.isDone})),S=n.filter((function(t){return!t.isDone})),I={allTodosQuantity:n.length,completedTodosQuantity:n.filter((function(t){return t.isDone})).length,notCompletedTodosQuantity:n.filter((function(t){return!t.isDone})).length},N=function(){var t=Object(d.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next="all"===t.t0?3:"completed"===t.t0?6:"notCompleted"===t.t0?9:12;break;case 3:return D(e),O(n),t.abrupt("return");case 6:return D(e),O(k),t.abrupt("return");case 9:return D(e),O(S),t.abrupt("return");case 12:return t.abrupt("return");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsxs)(f.a,{children:[Object(x.jsx)(_,{onSubmit:w}),Object(x.jsx)(M,{todosItems:I,onClickBySort:N}),Object(x.jsx)(F,{todos:h,onDeleteTodo:C,onToggleCompleted:y})]})};c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(G,{})}),document.getElementById("root"))},27:function(t,e,n){t.exports={buttonsWrapper:"SortButtons_buttonsWrapper__2awMi",checked:"SortButtons_checked__2AUFF",selected:"SortButtons_selected__2sIWw"}},49:function(t,e,n){t.exports={divItem:"TodoItem_divItem__Z6pIL",Label:"TodoItem_Label__1Wlff",btnDel:"TodoItem_btnDel__15A_m"}},58:function(t,e,n){t.exports={addTodoForm:"AddTodoForm_addTodoForm__3gSdD",inputDiv:"AddTodoForm_inputDiv__3WQ_Y","browser-default":"AddTodoForm_browser-default__s9hTj"}},90:function(t,e,n){}},[[121,1,2]]]);
//# sourceMappingURL=main.aadeefa0.chunk.js.map